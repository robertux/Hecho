<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/css/element-ui-2.0.2.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
    <title>Manage Categories</title>
</head>
<body>
<div id="hecho-app">
    <el-container>
        <el-header>
            <el-menu mode="horizontal" default-active="2" @open="focusSearch" menu-trigger="click">
                <el-submenu index="1">
                    <template slot="title"><i class="el-icon-search"></i></template>
                    <el-menu-item index="1-1">
                        <el-input placeholder="Filter categories" suffix-icon="el-icon-search" v-model="filterText"
                                  autofocus></el-input>
                    </el-menu-item>
                </el-submenu>
                <el-menu-item index="2">Hecho</el-menu-item>
                <el-submenu index="3">
                    <template slot="title"><i class="el-icon-menu"></i></template>
                    <el-menu-item index="3-2" @click="doneCategories()"><i class="el-icon-setting"></i>Done Managing
                        Categories
                    </el-menu-item>
                </el-submenu>
            </el-menu>
        </el-header>
        <el-main>
            <el-input v-model="newCategoryName" placeholder="New Category"
                      @keyup.native.enter="addCategory()"></el-input>
            <el-table :data="computedCategories">
                <el-table-column>
                    <template slot-scope="scope">
                        <span v-show="!scope.row.beingEdited">{{scope.row.name}}</span>
                        <span class="catEdit" v-show="scope.row.beingEdited"><el-input v-model="scope.row.name"
                                                                                       @keyup.native.enter="saveCategory(scope.row)"></el-input></span>
                    </template>
                </el-table-column>
                <el-table-column align="right">
                    <template slot-scope="scope">
                        <el-button-group>
                            <el-button :disabled="!scope.row.editable" icon="el-icon-edit-outline"
                                       @click="editCategory(scope.row, scope.$index)"></el-button>
                            <el-button :disabled="!scope.row.editable" icon="el-icon-delete"
                                       @click="deleteCategory(scope.row)"></el-button>
                        </el-button-group>
                    </template>
                </el-table-column>
            </el-table>

        </el-main>

        <el-footer>
            <el-button type="primary" @click="doneCategories">Done editing categories</el-button>
        </el-footer>
    </el-container>
</div>

<script type="text/javascript" src="/js/vue/vue.min.js"></script>
<script type="text/javascript" src="/js/element/element-ui-2.0.2.js"></script>
<script type="text/javascript" src="/js/element/element-locale-en.js"></script>
<script type="text/javascript">ELEMENT.locale(ELEMENT.lang.en); </script>
<script type="text/javascript" src="/js/jquery/jquery-2.2.4.min.js"></script>
<script type="text/javascript" src="/js/vue/hecho.categories.js"></script>
</body>
</html>